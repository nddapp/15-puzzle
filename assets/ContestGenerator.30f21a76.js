import{d as f,f as g,g as h,h as S,r as M,i as _,L as v,j as y,k,l as R,c as C,t as E,e as I,o as b}from"./index.9ea38870.js";const z=f({__name:"ContestGenerator",props:{mapSize:null},setup(l){const{mapSize:t}=l,s=I(),{isValid:i,mapSpec:r}=g(t,{gridRows:5,gridCols:3}),c=h(r),{requiredData:u,shuffeData:p}=S(r),n=M("Loading..");_(async()=>{if(!i){s.push({path:"/"}),console.log("Invalid mapSize");return}let e=0,a=o(0);for(;e<v;){let d=y(c,u,p,k(a.toString()));if(await m(d.blockMaps)){n.value="Redirecting..",t?s.push({name:"contest-play-custom",params:{pin:a,mapSize:t}}):s.push({name:"contest-play",params:{pin:a}});return}a=o(a),e++}n.value="Cannot create new contest, please try again later."});async function m(e){return Promise.resolve(R(e))}function o(e){return e?(e++,e>9999999?o(0):e):Math.floor(Math.random()*9e5+1e5)}return(e,a)=>(b(),C("div",null,E(n.value),1))}});export{z as default};
